<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body{
				margin: 0;
			}
			.signUp{
				width: 400px;
				height: 400px;
				background-color: #6677ff;
				border-radius: 50px;
				position: absolute;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				margin: auto;
				padding: 30px 0 0 0;
			}
			.text{
				width: 300px;
				height: 30px;
				font: 24px/30px "微软雅黑";
				margin: 20px auto 20px;
			}
			input{
				display: block;
			}
			form{
				text-align: center;
			}
			strong{
				font: 30px/50px "微软雅黑";
				height: 50px;
				display: block;
				text-align: center;
			}
			#submit{
				height: 50px;
				font: 30px/50px "微软雅黑";
				margin: 30px auto;
			}
			.over{
				display: none;
				background-color: rgba(0,0,0,0.5);
			}
		</style>
	</head>
	<body>
		<div class="signUp">
			<strong>登陆</strong>
			<form action="" method="post">
				<input type="text" name="" class="text" id="phone" value="" placeholder="手机号"/>
				<input type="text" name="" class="text" id="email" value="" placeholder="邮箱号"/>
				<input type="text" name="" class="text" id="qq" value="" placeholder="QQ号"/>
				<input type="text" name="" class="text" id="day" value="" placeholder="出生日期 如19750523"/>
				<input type="button" value="注册" id="submit"/>
			</form>
		</div>
	</body>
	<script type="text/javascript">
		class Sign {
			constructor(){
				this.text = document.getElementsByClassName("text");
				this.text = Array.prototype.slice.call(this.text);
				console.log(this.text)
				console.log(Object.prototype.toString.call(this.text))
				this.btn = document.getElementById("submit");
				console.log(this.btn)
				this.btn.setAttribute("disabled","disabled");
				this.rule = {
					phone:/^1[34578]\d{9}$/,
					email:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9-_]+(\.[a-zA-Z0-9-_]+)+$/,
					qq:/^[1-9]\d{4,14}$/,
					day:/^19[0-9][0-9]$/
				}
				this.order = 4;
			}
			Strike(){
				function x(){
					console.log(this);
				}
				console.log(this);
				x();
				this.text.forEach((tag) => {
					tag.onblur = () => {
						this.Judgment(tag,tag.value);
					}
				});
			}
			Judgment(tag,tx){
				if(this.rule[tag.id].test(tx)){
					tag.style.borderColor = 'green';
					this.order--;
				}else{
					tag.style.borderColor = 'red';
				}
				this.Over();
			}
			Over(){
				if(this.order === 0) this.btn.removeAttribute("disabled");
			}
		}
		let a = new Sign;
		a.Strike();
//		console.log(Object.prototype.toString.call(b));
//		c = '';
//		console.log(!c);
	</script>
</html>
